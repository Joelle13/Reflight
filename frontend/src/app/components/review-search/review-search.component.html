<section class="reviews-search-section">
  <div class="container">
    <h1 class="page-title">Tous les avis</h1>

    <div class="search-filters">

      <div class="filter-group">
        <i class="fa fa-search search-icon"></i>
        <input type="text"
               placeholder="Numéro de vol"
               [(ngModel)]="searchFlightQuery"
               (input)="onSearchReviews()"
               class="search-input">
      </div>

      <div class="filter-group">
        <input
          type="text"
          placeholder="Rechercher par mot-clé"
          [(ngModel)]="searchKeywordsQuery"
          (input)="onSearchReviews()"
          class="search-input">
        <i class="fa fa-search search-icon"></i>
      </div>

      <div class="filter-group">
        <select class="filter-select"
                [(ngModel)]="filterAirlines"
                (change)="onFilterChange()">
          <option value="">Toutes les compagnies</option>
          <option *ngFor="let airline of airlines" [ngValue]="airline.name" >{{airline.name}}</option>
        </select>
      </div>

      <div class="filter-group" *ngIf="mode === 'admin'">
        <select
          class="filter-select"
          [(ngModel)]="filterStatus"
          (change)="onFilterChange()">
          <option value="">Tous les statuts</option>
          <option value="PUBLISHED">Publié</option>
          <option value="PROCESSED">Traité</option>
          <option value="REJECTED" >Rejeté</option>
        </select>
      </div>
    </div>
  </div>
</section>

<!-- Section résultats avec tri -->
<div class="results-section">
  <div class="container">
    <div class="results-header">
      <div class="results-count">
        <i class="fa fa-comment"></i>
        <h2>Avis trouvés ({{reviewCount}})</h2>
      </div>

      <div class="results-sort">
        <label for="sortSelect">Trier par :</label>
        <select
          id="sortSelect"
          class="sort-select"
          [(ngModel)]="sortBy"
          (change)="onSortChange()">
          <option value="DATE-desc">Plus récents</option>
          <option value="DATE-asc">Plus anciens</option>
          <option value="RATING-desc">Note décroissante</option>
          <option value="RATING-asc">Note croissante</option>
          <option value="AIRLINE">Compagnie</option>
        </select>
      </div>
    </div>
  </div>
</div>
